!function(e){function t(n){if(a[n])return a[n].exports;var s=a[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}({0:function(e,t,a){e.exports=a(58)},50:function(e,t){"use strict";var a=React.createClass({displayName:"Loading",loadStyle:function(){var e={height:"60px"};return"number"==typeof this.props.height&&(e.height=this.props.height+"px"),e},showContent:function(){var e=React.createElement("div",{className:"load"},React.createElement("span",null,"Loading..."));return"string"==typeof this.props.content&&(e=this.props.content),e},render:function(){return React.createElement("div",{style:this.loadStyle()},this.showContent())}});e.exports=a},58:function(e,t,a){"use strict";var n=a(59),s=function(e){ReactDOM.render(React.createElement(n,null),document.getElementById(e))},i=function(){return React.createElement(n,null)};window.nemReact.reacts.homeFlash={init:s,getComponent:i}},59:function(e,t,a){"use strict";function n(e,t){var a=l.getFlashItems();return null!=a&&0!==a.length||o.getFlashItems(e,t),{flashItems:a}}function s(e){return React.createElement(i,{key:e.ID,productID:e.ItemID,isDiscount:!0,imgUrl:e.ImgUrl,productLink:e.ItemLink,title:e.Title,qty:parseInt(e.SellQuantity,10),marketPrice:parseInt(e.OriginalPrice),sellingPrice:parseInt(e.GroupBuyPrice),slogan:e.Sdesc,isSlogan:!1,showLeft:!0,notSale:e.isExpired,isFlash:!0,flashTime:e.EndDate})}var i=nemReact.require("NEProduct","react"),r=a(50),o=nemReact.require("FlashAction"),l=nemReact.require("FlashStore"),c=React.createClass({displayName:"HomeTabTwo",getInitialState:function(){return{pageNumber:l.getFlashCurrentPage(),pageSize:3,flashItems:[],isLoad:!0,reachMax:!1}},componentWillMount:function(){window.addEventListener("scroll",this.handleScroll),this.setState(n(this.state.pageSize,this.state.pageNumber))},componentDidMount:function(){l.addChangeListener(this._onChange)},componentWillUnmount:function(){l.removeChangeListener(this._onChange),window.removeEventListener("scroll",this.handleScroll)},handleScroll:function(e){var t=$("#IndexTabContent").height(),a=window.innerHeight,n=$(window).scrollTop(),s=n+a;if(s+100>t)if(this.state.isLoad||this.state.reachMax)this.setState({isLoad:!1});else{this.setState({isLoad:!0});var i=l.getFlashMaxPage(),r=++this.state.pageNumber;i>=r?o.getFlashItems(this.state.pageSize,r):this.setState({reachMax:!0,isLoad:!1})}},showLoad:function(){return this.state.isLoad?React.createElement(r,null):null},render:function(){for(var e=[],t=0;t<this.state.flashItems.length;t++)e.push(s(this.state.flashItems[t]));return React.createElement("li",{className:"current",style:{display:"block"}},React.createElement("div",{className:"flash"},React.createElement("div",{className:"flashBanner"},React.createElement("img",{src:"/Themes/2016/images/daySoonBuy_logo.svg"})),e,this.showLoad()))},_onChange:function(){this.setState({isLoad:!1}),l.getHasData()&&this.setState(n(this.state.pageSize,this.state.pageNumber))}});e.exports=c}});